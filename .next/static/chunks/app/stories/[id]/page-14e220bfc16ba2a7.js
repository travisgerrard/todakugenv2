(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[458],{7907:function(e,s,r){Promise.resolve().then(r.bind(r,2096)),Promise.resolve().then(r.bind(r,133)),Promise.resolve().then(r.bind(r,1296)),Promise.resolve().then(r.bind(r,5686))},2096:function(e,s,r){"use strict";r.r(s),r.d(s,{StoryPageContainer:function(){return b}});var a=r(3827),t=r(4090),n=r(575),l=r(5159),i=r(3441),c=r(1296),d=r(133),o=r(5671);function m(e){let{vocabulary:s}=e,[r,n]=(0,t.useState)([]);return((0,t.useEffect)(()=>{Array.isArray(s)&&n(s)},[s]),null==r?void 0:r.length)?(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Vocabulary"}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:r.map((e,s)=>(0,a.jsxs)(o.Zb,{children:[(0,a.jsx)(o.Ol,{children:(0,a.jsxs)(o.ll,{className:"text-xl",children:[e.word," ",(0,a.jsxs)("span",{className:"text-muted-foreground",children:["(",e.reading,")"]})]})}),(0,a.jsxs)(o.aY,{children:[(0,a.jsx)("p",{className:"text-lg mb-2",children:e.meaning}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Example:"}),(0,a.jsx)("p",{className:"font-medium",children:e.example}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.example_translation})]})]})]},s))})]}):null}function u(e){let{grammar:s}=e,[r,n]=(0,t.useState)([]);return((0,t.useEffect)(()=>{Array.isArray(s)&&n(s)},[s]),null==r?void 0:r.length)?(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Grammar Points"}),(0,a.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:r.map((e,s)=>(0,a.jsxs)(o.Zb,{children:[(0,a.jsx)(o.Ol,{children:(0,a.jsx)(o.ll,{className:"text-xl",children:e.pattern})}),(0,a.jsxs)(o.aY,{children:[(0,a.jsx)("p",{className:"text-lg mb-2",children:e.explanation}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Example:"}),(0,a.jsx)("p",{className:"font-medium",children:e.example}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.example_translation})]})]})]},s))})]}):null}var x=r(3770),h=r(2169);let f=x.fC,p=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(x.aV,{ref:s,className:(0,h.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...t})});p.displayName=x.aV.displayName;let g=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(x.xz,{ref:s,className:(0,h.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...t})});g.displayName=x.xz.displayName;let j=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)(x.VY,{ref:s,className:(0,h.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...t})});function v(e){let{quizzes:s}=e,[r,l]=(0,t.useState)([]),[i,c]=(0,t.useState)({}),[d,m]=(0,t.useState)({}),[u,x]=(0,t.useState)({});if((0,t.useEffect)(()=>{Array.isArray(s)&&(l(s),c({}),m({}),x({}))},[s]),!(null==r?void 0:r.length))return null;let h=r.filter(e=>"vocabulary"===e.type),v=r.filter(e=>"grammar"===e.type),N=r.filter(e=>"comprehension"===e.type),b=(e,s)=>{(null===i[e]||void 0===i[e])&&(c(r=>({...r,[e]:s})),x(s=>({...s,[e]:!0})))},y=e=>{m(s=>({...s,[e]:!s[e]}))},w=(e,s)=>e.correct_answer===s,z=(e,s)=>{let r="".concat(e.type,"-").concat(s),t=null!==i[r]&&void 0!==i[r];return(0,a.jsxs)(o.Zb,{className:"mb-4",children:[(0,a.jsx)(o.Ol,{children:(0,a.jsxs)(o.ll,{className:"text-lg",children:["vocabulary"===e.type&&"Vocabulary Quiz","grammar"===e.type&&"Grammar Quiz","comprehension"===e.type&&"Comprehension Quiz"]})}),(0,a.jsxs)(o.aY,{children:[e.related_item&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["Related ","vocabulary"===e.type?"word":"pattern",": ",e.related_item]}),(0,a.jsx)("p",{className:"mb-4",children:e.question}),(0,a.jsx)("div",{className:"space-y-2",children:e.options.map((s,n)=>{let l=i[r]===n,c=w(e,n),d="bg-white hover:bg-gray-50 border-gray-200";return t&&(l?d=c?"bg-green-500 text-white border-green-500":"bg-red-500 text-white border-red-500":c&&(d="bg-green-100 border-green-200")),(0,a.jsx)("div",{className:"w-full p-3 rounded-md border cursor-pointer transition-colors ".concat(d),onClick:()=>!t&&b(r,n),children:s},n)})}),u[r]&&(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)(n.z,{variant:"ghost",onClick:()=>y(r),className:"text-sm",children:d[r]?"Hide Explanation":"Show Explanation"}),d[r]&&(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:e.explanation})]})]})]},r)};return(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Quizzes"}),(0,a.jsxs)(f,{defaultValue:"vocabulary",className:"w-full",children:[(0,a.jsxs)(p,{className:"grid w-full grid-cols-3",children:[(0,a.jsxs)(g,{value:"vocabulary",children:["Vocabulary (",h.length,")"]}),(0,a.jsxs)(g,{value:"grammar",children:["Grammar (",v.length,")"]}),(0,a.jsxs)(g,{value:"comprehension",children:["Comprehension (",N.length,")"]})]}),(0,a.jsx)(j,{value:"vocabulary",children:h.map((e,s)=>z(e,s))}),(0,a.jsx)(j,{value:"grammar",children:v.map((e,s)=>z(e,s))}),(0,a.jsx)(j,{value:"comprehension",children:N.map((e,s)=>z(e,s))})]})]})}function N(e){var s,r,o;let{story:x,error:h}=e,[f,p]=(0,t.useState)(!1),[g,j]=(0,t.useState)(null);return((0,t.useEffect)(()=>{if(x){let e="string"==typeof x.vocabulary?JSON.parse(x.vocabulary):x.vocabulary,s="string"==typeof x.grammar?JSON.parse(x.grammar):x.grammar,r="string"==typeof x.quizzes?JSON.parse(x.quizzes):x.quizzes;j({...x,vocabulary:e,grammar:s,quizzes:r})}},[x]),h)?(0,a.jsx)(d.StoryPageError,{error:h}):g?(0,a.jsxs)("div",{className:"prose dark:prose-invert max-w-none",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Japanese Text"}),(0,a.jsx)("p",{className:"whitespace-pre-wrap text-lg",children:g.content_jp})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)(n.z,{variant:"outline",onClick:()=>p(!f),className:"w-full flex items-center justify-between",children:[(0,a.jsx)("span",{children:"English Translation"}),f?(0,a.jsx)(l.Z,{className:"h-4 w-4"}):(0,a.jsx)(i.Z,{className:"h-4 w-4"})]}),f&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:g.content_en})})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(null===(s=g.vocabulary)||void 0===s?void 0:s.length)>0&&(0,a.jsx)(m,{vocabulary:g.vocabulary}),(null===(r=g.grammar)||void 0===r?void 0:r.length)>0&&(0,a.jsx)(u,{grammar:g.grammar}),(null===(o=g.quizzes)||void 0===o?void 0:o.length)>0&&(0,a.jsx)(v,{quizzes:g.quizzes})]})]}):(0,a.jsx)(c.StoryPageLoading,{})}function b(e){let{story:s,error:r}=e;return(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)(c.StoryPageLoading,{}),children:(0,a.jsx)(N,{story:s,error:r})})})}j.displayName=x.VY.displayName},133:function(e,s,r){"use strict";r.r(s),r.d(s,{StoryPageError:function(){return u}});var a=r(3827),t=r(8998),n=r(4090),l=r(9769),i=r(2169);let c=(0,l.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=n.forwardRef((e,s)=>{let{className:r,variant:t,...n}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(c({variant:t}),r),...n})});d.displayName="Alert";let o=n.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",r),...t})});o.displayName="AlertTitle";let m=n.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",r),...t})});function u(e){let{error:s}=e;return(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)(d,{variant:"destructive",children:[(0,a.jsx)(t.Z,{className:"h-4 w-4"}),(0,a.jsx)(o,{children:"Error"}),(0,a.jsx)(m,{children:s.message||"An error occurred while loading the story."})]})})}m.displayName="AlertDescription"},1296:function(e,s,r){"use strict";r.r(s),r.d(s,{StoryPageLoading:function(){return i}});var a=r(3827),t=r(5671),n=r(2169);function l(e){let{className:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-muted",s),...r})}function i(){return(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,a.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l,{className:"h-12 w-3/4 mb-4"}),(0,a.jsx)(l,{className:"h-8 w-1/4"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l,{className:"h-8 w-1/3 mb-4"}),(0,a.jsx)(t.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(l,{className:"h-4 w-full"}),(0,a.jsx)(l,{className:"h-4 w-5/6"}),(0,a.jsx)(l,{className:"h-4 w-4/6"})]})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l,{className:"h-8 w-1/3 mb-4"}),(0,a.jsx)(t.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(l,{className:"h-4 w-full"}),(0,a.jsx)(l,{className:"h-4 w-5/6"}),(0,a.jsx)(l,{className:"h-4 w-4/6"})]})})]})]}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(l,{className:"h-8 w-1/4 mb-4"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:4}).map((e,s)=>(0,a.jsx)(t.Zb,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(l,{className:"h-6 w-3/4"}),(0,a.jsx)(l,{className:"h-4 w-1/2"}),(0,a.jsx)(l,{className:"h-4 w-2/3"})]})},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l,{className:"h-8 w-1/4 mb-4"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:4}).map((e,s)=>(0,a.jsx)(t.Zb,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(l,{className:"h-6 w-3/4"}),(0,a.jsx)(l,{className:"h-4 w-1/2"}),(0,a.jsx)(l,{className:"h-4 w-2/3"})]})},s))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(l,{className:"h-8 w-1/4 mb-4"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Array.from({length:2}).map((e,s)=>(0,a.jsx)(t.Zb,{className:"p-4",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(l,{className:"h-6 w-3/4"}),(0,a.jsx)(l,{className:"h-4 w-full"}),(0,a.jsx)(l,{className:"h-4 w-2/3"})]})},s))})]})]})]})})})}},5686:function(e,s,r){"use strict";r.r(s),r.d(s,{StoryPageMetadata:function(){return t}});var a=r(3827);function t(e){let{story:s}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("title",{children:s.title}),(0,a.jsx)("meta",{name:"description",content:"Read a Japanese graded reader story: ".concat(s.title)}),(0,a.jsx)("meta",{property:"og:title",content:s.title}),(0,a.jsx)("meta",{property:"og:description",content:"Read a Japanese graded reader story: ".concat(s.title)}),(0,a.jsx)("meta",{property:"og:type",content:"article"}),(0,a.jsx)("meta",{property:"article:published_time",content:s.created_at}),(0,a.jsx)("meta",{property:"article:author",content:"Todaku Reader"}),(0,a.jsx)("meta",{property:"article:section",content:"Japanese Graded Readers"})]})}},575:function(e,s,r){"use strict";r.d(s,{z:function(){return d}});var a=r(3827),t=r(4090),n=r(9143),l=r(9769),i=r(2169);let c=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=t.forwardRef((e,s)=>{let{className:r,variant:t,size:l,asChild:d=!1,...o}=e,m=d?n.g7:"button";return(0,a.jsx)(m,{className:(0,i.cn)(c({variant:t,size:l,className:r})),ref:s,...o})});d.displayName="Button"},5671:function(e,s,r){"use strict";r.d(s,{Ol:function(){return i},Zb:function(){return l},aY:function(){return d},ll:function(){return c}});var a=r(3827),t=r(4090),n=r(2169);let l=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...t})});l.displayName="Card";let i=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...t})});i.displayName="CardHeader";let c=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...t})});c.displayName="CardTitle",t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",r),...t})}).displayName="CardDescription";let d=t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",r),...t})});d.displayName="CardContent",t.forwardRef((e,s)=>{let{className:r,...t}=e;return(0,a.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",r),...t})}).displayName="CardFooter"},2169:function(e,s,r){"use strict";r.d(s,{cn:function(){return n}});var a=r(3167),t=r(1367);function n(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,t.m6)((0,a.W)(s))}}},function(e){e.O(0,[150,743,971,69,744],function(){return e(e.s=7907)}),_N_E=e.O()}]);